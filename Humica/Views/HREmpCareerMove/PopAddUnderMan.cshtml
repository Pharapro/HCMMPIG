@Html.DevExpress().PopupControl(settings =>
{
    settings.Name = "PopAddUnderMan";
    settings.PopupVerticalAlign = PopupVerticalAlign.WindowCenter;
    settings.PopupHorizontalAlign = PopupHorizontalAlign.WindowCenter;
    settings.ShowFooter = true;
    settings.AllowDragging = true;
    settings.EnableHotTrack = true;
    settings.Height = Unit.Pixel(200);
    settings.Width = Unit.Pixel(450);
    settings.PopupElementID = "ShowButton1";
    settings.HeaderText = Humica.EF.Models.SY.SYSettings.getLabel("Add");
    settings.CloseAction = CloseAction.CloseButton;

    settings.SetContent(() =>
    {
        ViewContext.Writer.Write("<div style=\"display: flex; flex-direction: row; gap: 20px; height: 50%;\">");

        Html.DevExpress().Label(labelSettings =>
        {
            labelSettings.ControlStyle.CssClass = "label";
            labelSettings.Text = Humica.EF.Models.SY.SYSettings.getLabel("Department");
            labelSettings.AssociatedControlName = "ActionName";
        }).Render();

        Html.DevExpress().ComboBox(s =>
        {
            s.Name = "cboPopDepartment";
            s.Properties.ClientInstanceName = "cboPopDepartment";
            s.Width = 250;
            s.ShowModelErrors = true;
            s.Properties.ValidationSettings.ErrorDisplayMode = ErrorDisplayMode.ImageWithTooltip;
            s.Properties.ValidationSettings.SetFocusOnError = true;
            s.Properties.ValidationSettings.ErrorText = "*";
            s.Properties.ValueField = "Code";
            s.Properties.TextField = "Description";
            s.Properties.NullText = "-------Select-------";
            s.Properties.ClientSideEvents.Init = "ChangePopDepartment";
            s.Properties.ClientSideEvents.SelectedIndexChanged = "ChangePopDepartment";
        }).BindList(ViewData["DEPARTMENT_SELECT"]).GetHtml();

        Html.DevExpress().Label(labelSettings =>
        {
            labelSettings.ControlStyle.CssClass = "label";
            labelSettings.Text = Humica.EF.Models.SY.SYSettings.getLabel("DocumentType:");
            labelSettings.AssociatedControlName = "ActionName";
        }).Render();
        Html.DevExpress().ComboBox(s =>
        {
            s.Name = "cboManaType";
            s.Properties.ClientInstanceName = "cboManaType";
            s.Width = 250;
            s.ShowModelErrors = true;
            s.Properties.ValidationSettings.ErrorDisplayMode = ErrorDisplayMode.ImageWithTooltip;
            s.Properties.ValidationSettings.SetFocusOnError = true;
            s.Properties.ValidationSettings.ErrorText = "*";
            s.Properties.ValueField = "Description";
            s.Properties.TextField = "Description";
            s.Properties.NullText = "-------Select-------";
        }).BindList(ViewData["SELECT_MANAGER"]).GetHtml();
        ViewContext.Writer.Write("</div>");

        ViewContext.Writer.Write("<div style=\"display: flex; flex-direction: row; gap: 20px; height: 50%;\">");
        ViewContext.Writer.Write("<div style=\"width: 400px;overflow: auto;\">");
        Html.RenderPartial("PartialEmployeeSearch");
        ViewContext.Writer.Write("</div>");
        ViewContext.Writer.Write("<div style = \"width: 400px; overflow: auto;\">");
        Html.RenderPartial("PartialEmployeeSearchAdd");
        ViewContext.Writer.Write("</div>");
        ViewContext.Writer.Write("</div>");
    });

    settings.SetFooterTemplateContent(c =>
    {
        ViewContext.Writer.Write(@"
            <div style='display: flex; justify-content: space-between; align-items: center; width: 100%; padding: 0 10px;'>
                <div>
        ");

        Html.DevExpress().Button(s =>
        {
            s.Name = "_btnTransfer";
            s.Text = "Transfer";
            s.ClientSideEvents.Click = "function(s, e) { EmployeeTransfer.TransferSelectedItems(); }";
            //s.ClientVisible = true;  
            //s.Enabled = false;     
        }).Render();

        ViewContext.Writer.Write("</div><div style='display: flex; gap: 10px;'>");

        Html.DevExpress().Button(s =>
        {
            s.Name = "_BTCANCEL_R";
            s.Text = "Cancel";
            s.ClientSideEvents.Click = "function(s, e){ PopAddUnderMan.Hide(); }";
        }).Render();
        Html.DevExpress().Button(s =>
        {
            s.Name = "_ConfirmAddUM";
            s.Text = "Confirm";
        }).Render();

        ViewContext.Writer.Write("</div></div>");
    });
}).GetHtml()