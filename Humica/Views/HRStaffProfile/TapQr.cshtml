@model Humica.Employee.IClsEmployee

@Html.DevExpress().FormLayout(gg =>
{
    var isReadOnly = false;
    //if (ViewData[OLYMPIA.Models.ClsConstant.IS_READ_ONLY] != null)
    //{
    //    isReadOnly = true;
    //}

    gg.Name = "QRImage";
    gg.AlignItemCaptionsInAllGroups = true;
    gg.Items.AddGroupItem(m => m.Header, g =>
    {
        g.Caption = "";
        g.GroupBoxDecoration = GroupBoxDecoration.None;
        g.SettingsItemCaptions.HorizontalAlign = FormLayoutHorizontalAlign.Right;
        g.ColCount = 3;
        g.Items.AddGroupItem(m => m.Header, g1 =>
        {
            g1.ColCount = 2;
            g1.GroupBoxDecoration = GroupBoxDecoration.None;
            g1.SettingsItemCaptions.HorizontalAlign = FormLayoutHorizontalAlign.Right;
            g1.Caption = "Qr Code";
            g1.Items.Add(mm =>
            {
                mm.Caption = "";
            })
            .SetNestedContent(() =>
            {
                if (isReadOnly == true)
                {
                    ViewContext.Writer.Write("<div id='externalDropZoneQr' class='dropZoneExternalQr'>");
                    ViewContext.Writer.Write("<img id='uploadedImageQr' src='" + Model.Header.ImgQr + "' alt=''   />");
                    ViewContext.Writer.Write("</div>");
                }
                if (isReadOnly == false)
                {
                    ViewContext.Writer.Write("<div id='externalDropZoneQr' class='dropZoneExternalQr' ><div id='dropZoneQr'><span class='dragZoneTextQr'>Add QR Code</span></div>");
                    ViewContext.Writer.Write("<img id='uploadedImageQr' src='" + Model.Header.ImgQr + "' alt='' style='width: 350px;' onload='onImageLoadQr()' />");
                    ViewContext.Writer.Write("<div id='dropZoneQr' style='display: none'>");
                    ViewContext.Writer.Write("<span class='dropZoneText'>Drop Image</span>");
                    ViewContext.Writer.Write("</div></div>");
                    ViewContext.Writer.Write("</div></div>");
                    Html.DevExpress().UploadControl(ss =>
                    {
                        ss.ShowProgressPanel = true;
                        ss.CallbackRouteValues = new { Controller = "HRStaffProfile", Action = "UploadControlCallbackActionImageQr" };
                        ss.Name = "qr_image";
                        ss.UploadMode = UploadControlUploadMode.Auto;
                        ss.AutoStartUpload = true;
                        ss.Width = 350;
                        ss.DialogTriggerID = "externalDropZoneQr";
                        ss.AdvancedModeSettings.EnableDragAndDrop = true;
                        ss.AdvancedModeSettings.EnableFileList = false;
                        ss.AdvancedModeSettings.EnableMultiSelect = false;
                        ss.AdvancedModeSettings.ExternalDropZoneID = "externalDropZoneQr";
                        ss.AdvancedModeSettings.DropZoneText = "";
                        ss.ValidationSettings.MaxFileSize = 9194304;
                        ss.ValidationSettings.AllowedFileExtensions = new string[] { ".jpg", ".jpeg", ".gif", ".png" };
                        ss.ValidationSettings.ErrorStyle.CssClass = "validationMessage";
                        ss.BrowseButton.Text = "Choose Image.";
                        ss.Styles.DropZone.CssClass = "uploadControlDropZoneQr";
                        ss.Styles.ProgressBar.CssClass = "uploadControlProgressBar";
                        ss.ClientSideEvents.DropZoneEnter = "function(s, e) { if(e.dropZone.id == 'externalDropZoneQr') setElementVisible('dropZoneQr', true); }";
                        ss.ClientSideEvents.DropZoneLeave = "function(s, e) { if(e.dropZone.id == 'externalDropZoneQr') setElementVisible('dropZoneQr', false); }";
                        ss.ClientSideEvents.FileUploadComplete = "onUploadControlFileUploadCompleteQR"; 
                    }).Render();
                    Html.DevExpress().TextBoxFor(i => i.Header.ImgQr, s =>
                    {
                        s.Properties.ClientInstanceName = "txtImgQr";
                        //s.Properties.ClientSideEvents.GotFocus = "OnFocus";
                        s.Properties.EnableClientSideAPI = true;
                        s.ClientVisible = false;
                        s.Width = 200;
                    }).Render();

                    Html.DevExpress().Button(s =>
                    {
                        s.Name = "btRemoveP";
                        s.Text = "Remove";
                        s.ClientSideEvents.Click = "RemoveFileQr";
                    }).Render();
                }
            });
            //g1.Items.Add(mm =>
            //{
            //    mm.Caption = "";
            //})
            // .SetNestedContent(() =>
            // {
            //     if (isReadOnly == true)
            //     {
            //         ViewContext.Writer.Write("<div id='externalDropZone' class='dropZoneExternal'>");
            //         ViewContext.Writer.Write("<img id='uploadedImage' src='" + Model.Header.Signature + "' alt=''   />");
            //         ViewContext.Writer.Write("</div>");
            //     }
            //     if (isReadOnly == false)
            //     {
            //         ViewContext.Writer.Write("<div id='externalDropZone1' class='dropZoneExternal1'><div id='dragZone1'><span class='dragZoneText1'>Drop Signature Image</span></div>");
            //         ViewContext.Writer.Write("<img id='uploadedImage1' src='" + Model.Header.Signature + "' alt='' style='width: 350px;' onload='onImageLoad1()' />");
            //         ViewContext.Writer.Write("<div id='dropZone1' style='display: none'>");
            //         ViewContext.Writer.Write("<span class='dropZoneText1'>Drop Profile Image</span>");
            //         ViewContext.Writer.Write("</div></div>");
            //         ViewContext.Writer.Write("</div></div>");
            //         Html.DevExpress().UploadControl(ss =>
            //         {
            //             ss.ShowProgressPanel = true;
            //             ss.CallbackRouteValues = new { Controller = "HRStaffProfile", Action = "UploadControlCallbackActionSignature" };
            //             ss.Name = "uc_signature";
            //             ss.UploadMode = UploadControlUploadMode.Auto;
            //             ss.AutoStartUpload = true;
            //             ss.Width = 350;
            //             ss.DialogTriggerID = "externalDropZone1";
            //             ss.AdvancedModeSettings.EnableDragAndDrop = true;
            //             ss.AdvancedModeSettings.EnableFileList = false;
            //             ss.AdvancedModeSettings.EnableMultiSelect = false;
            //             ss.AdvancedModeSettings.ExternalDropZoneID = "externalDropZone1";
            //             ss.AdvancedModeSettings.DropZoneText = "";
            //             ss.ValidationSettings.MaxFileSize = 9194304;
            //             ss.ValidationSettings.AllowedFileExtensions = new string[] { ".jpg", ".jpeg", ".gif", ".png" };
            //             ss.ValidationSettings.ErrorStyle.CssClass = "validationMessage1";
            //             ss.BrowseButton.Text = "Choose Image.";
            //             ss.Styles.DropZone.CssClass = "uploadControlDropZone1";
            //             ss.Styles.ProgressBar.CssClass = "uploadControlProgressBar1";
            //             ss.ClientSideEvents.DropZoneEnter = "function(s, e) { if(e.dropZone1.id == 'externalDropZone1') setElementVisible('dropZone1', true); }";
            //             ss.ClientSideEvents.DropZoneLeave = "function(s, e) { if(e.dropZone1.id == 'externalDropZone1') setElementVisible('dropZone1', false); }";
            //             ss.ClientSideEvents.FileUploadComplete = "onUploadControlFileUploadCompleteSignature";
            //         }).Render();
            //         Html.DevExpress().TextBoxFor(i => i.Header.Signature, s =>
            //         {
            //             s.Properties.ClientInstanceName = "txtSignature";
            //             //s.Properties.ClientSideEvents.GotFocus = "OnFocus";
            //             s.Properties.EnableClientSideAPI = true;
            //             s.ClientVisible = false;
            //             s.Width = 200;
            //         }).Render();

            //         Html.DevExpress().Button(s =>
            //         {
            //             s.Name = "btRemoveS";
            //             s.Text = "Remove";
            //             s.ClientSideEvents.Click = "RemoveFile2";
            //         }).Render();
            //     }
            // });
        });

    });

}).GetHtml()